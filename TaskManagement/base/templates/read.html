{% extends 'main.html' %}
{% block content %}
<div>
    <form action="">
        <input type="text" placeholder="search" name="q" value="{{ search | default:'' }}">
        <button type="submit">submit</button>
    </form>
</div>

<div class="container">
    <h1 class="page-title">All Tasks</h1>

    <div class="task-list">
        {% for i in task %}
        <div class="task-card">
            <p><strong>Name:</strong> {{ i.name }}</p>
            <p><strong>Task Name:</strong> {{ i.task_name }}</p>
            <p><strong>Contact:</strong> {{ i.contact }}</p>
            <p><strong>Description:</strong> {{ i.description }}</p>
            <p><strong>Priority:</strong> {{ i.priority }}</p>
            <p><strong>Status:</strong> {{ i.status }}</p>
            <p><strong>Due Date:</strong> {{ i.due_date }}</p>
            <p><strong>Created At:</strong> {{ i.created_at }}</p>
            <p><strong>Updated At:</strong> {{ i.updated_at }}</p>

            <div class="actions">
                <a href="{% url 'update' i.id %}" class="btn primary">Update</a>
                <a href="{% url 'delete' i.id %}" class="btn danger" onclick="return confirmDelete();">Delete</a>
            </div>
        </div>
        {% empty %}
        <p>No tasks available.</p>
        {% endfor %}
    </div>

    <div class="home-link">
        <a href="{% url 'home' %}" class="btn secondary">Back to Home</a>
    </div>
</div>

<script>
    function confirmDelete() {
        return confirm("Are you sure you want to delete this task?");
    }
</script>

{% endblock %}


